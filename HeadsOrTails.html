<!DOCTYPE html>

<html>
  <head>
    <title> heads or tails</title>
  </head>


<p>

  <button onclick="
    playerMove('heads');

    "> Heads </button>

  <button onclick="
    playerMove('tails');

  "> Tails </button>

  <button onclick="
    score.wins = 0;

    score.lose = 0;

    localStorage.removeItem('score');

    scores();
  "> Reset Score</button>
</p>

<p class="results"></p>

<p class="score"></p>



    <script>

  let randomNumber;

  let result ='';


  let score =JSON.parse(localStorage.getItem('score'));

  if(score === null) {
    score = {
      wins : 0,
      lose : 0
    }
  }


  function playerMove(guess) {

    let value = Math.random();

      if( value < 0.5) {
        randomNumber = 'heads';
      }
      else if( value > 0.5) {
        randomNumber = 'tails'
      }

    if(guess === 'heads')
    {

      if( guess === randomNumber)
      {
        result = 'you won'
      }
      else
      {
        result = 'you lose'

      }

    }
    else if(guess === 'tails')
    {

      if( guess === randomNumber)
      {
        result = 'you won'
      }
      else
      {
        result = 'you lose'
      }
    }

    if( result ==='you won') {

      score.wins += 1;
    }
    else if(result === 'you lose') {
      score.lose += 1
    }

    localStorage.setItem('score',JSON.stringify(score));

    scores();


    results(result);

  }

  function scores() {

      document.querySelector('.score')
    .innerHTML = `win : ${score.wins} lose : ${score.lose}`;
  }


  function results(result) {

  document.querySelector('.results')
    .innerHTML = result;
  }
    </script>
  </body>
</html>
